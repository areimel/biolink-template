---
import Layout from '~/layouts/PageLayout.astro';
import HeroSection from '~/components/biolink/HeroSection.astro';
import FreelanceBrandSection from '~/components/biolink/FreelanceBrandSection.astro';
import SiteTemplateSection from '~/components/biolink/SiteTemplateSection.astro';
import ProjectsSection from '~/components/biolink/ProjectsSection.astro';
import SupportSection from '~/components/biolink/SupportSection.astro';
import PopupModal from '~/components/common/PopupModal.astro';
import ContactForm from '~/components/biolink/ContactForm.astro';
import LocalDevMenu from '~/components/biolink/LocalDevMenu.astro';

// Import data from JSON file
import bioLinkData from '../data/biolink.json';

const metadata = {
  title: `${bioLinkData.profile.name} - Links`,
  description: bioLinkData.profile.description,
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <div class="w-full flex flex-col items-center pb-8 bg-theme-primary">
    <!-- Mobile: vertical stack, Desktop: bento grid -->
    <div class="w-full max-w-lg lg:max-w-6xl mx-auto p-4">
      
      <!-- Mobile layout: vertical stack -->
      <div id="mobile-version" class="lg:hidden space-y-8">
        <HeroSection 
          {...bioLinkData.profile}
          socialLinks={bioLinkData.socialLinks}
          profileLinks={bioLinkData.profileLinks}
        />
        <FreelanceBrandSection 
          {...bioLinkData.freelanceBrand}
        />
        <SiteTemplateSection 
          {...bioLinkData.siteTemplate}
        />
        <ProjectsSection projectLinks={bioLinkData.projectLinks} />
        <SupportSection supportLinks={bioLinkData.supportLinks} />
      </div>

      <!-- Desktop layout: bento grid -->
      <div id="desktop-version" class="hidden lg:grid lg:grid-cols-3 lg:gap-6">
        <!-- Side section - spans 1 column -->
        <div class="lg:col-span-1 ">
          <HeroSection 
            {...bioLinkData.profile}
            socialLinks={bioLinkData.socialLinks}
            profileLinks={bioLinkData.profileLinks}
          />
          <FreelanceBrandSection 
            {...bioLinkData.freelanceBrand}
          />
          <SiteTemplateSection 
            {...bioLinkData.siteTemplate}
          />
          <SupportSection supportLinks={bioLinkData.supportLinks} />
        </div>
        
        <!-- Main section - spans 2 columns -->
        <div class="lg:col-span-2">
          <ProjectsSection projectLinks={bioLinkData.projectLinks} />
        </div>
        
      </div>
    </div>
  </div>

  <!-- Contact Modal -->
  <PopupModal id="contact" title="Get in Touch">
    <ContactForm />
  </PopupModal>
  
  <!-- Footer with subtle VHS-inspired design -->
  <div class="w-full text-center py-4 text-sm text-theme-text border-t border-theme-text">
    <!-- <p>Made with vintage vibes ðŸ“¼</p> -->
    <p>Anti-Copyright {new Date().getFullYear()} - No Rights Reserved</p>
    <p>Open Source & Free To Use - Download your own copy and customize it for yourself.</p>
  </div>

  <!-- Development-only floating menu -->
  <LocalDevMenu />
</Layout>
