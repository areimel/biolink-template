---
interface Props {
  url: string;
  size: number;
}

const { url, size } = Astro.props;
---

<div
  id="qr-code-container"
  data-url={url}
  data-size={size}
  class="flex justify-center"
>
</div>

<script>
  import QRCodeStyling from 'qr-code-styling';

  const container = document.getElementById('qr-code-container');
  const url = container?.getAttribute('data-url') || '';
  const size = parseInt(container?.getAttribute('data-size') || '300');

  if (container && url) {
    const qrCode = new QRCodeStyling({
      width: size,
      height: size,
      type: 'svg',
      data: url,
      dotsOptions: {
        color: '#000000',
        type: 'rounded'
      },
      backgroundOptions: {
        color: '#ffffff'
      }
    });

    qrCode.append(container);
  }
</script>